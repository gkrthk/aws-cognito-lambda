# serverless.yml

service: slough-api

provider:
  name: aws
  role: arn:aws:iam::338528925510:role/slough-api-dev-us-west-2-lambdaRole
  runtime: nodejs8.10
  stage: dev
  region: us-west-2
  
plugins:
  - serverless-plugin-include-dependencies

functions:
  order-manager:
    handler: order-manager-server.order # reference the file and exported method
    package:
      individually: true
    events: # events trigger lambda functions
      - http:
          path: /order/health
          method: GET
          cors: true
      - http:
          path: /order/{id}
          method: GET
          cors: true
      - http:
          path: /orders
          method: GET
          cors: true
      - http:
          path: /order
          method: POST
          cors: true
      - http:
          path: /order
          method: PUT
          cors: true
      - http:
          path: /order/{id}
          method: DELETE
          cors: true